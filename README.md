# Kittygram - социальная сеть для любителей котиков
[![Main Kittygram workflow](https://github.com/zmlkf/kittygram_final/actions/workflows/main.yml/badge.svg?branch=main)](https://github.com/zmlkf/kittygram_final/actions/workflows/main.yml)

## Описание
Kittygram - это онлайн платформа, разработанная для хозяев котиков. Здесь владельцы пушистых могут делиться своими питомцами, указывать их год рождения, добавлять фотографии и по желанию их достижения. А так же можно любоваться другими котиками, добавленными на платформу.

## Стек примененных технологий
1. Python 3.9 
Высокоуровневый язык программирования, широко используемый для веб-разработки, анализа данных, искусственного интеллекта и многих других областей. 

2. Django 3.2.3
Мощный фреймворк для веб-разработки на Python. Django обеспечивает быстрое создание безопасных и масштабируемых веб-приложений благодаря своей архитектуре, включающей ORM (Object-Relational Mapping) для работы с базой данных, систему маршрутизации URL, систему администрирования и многие другие функции.

3. Nginx
Высокопроизводительный веб-сервер и прокси-сервер, который обеспечивает обработку запросов от клиентов и маршрутизацию их к соответствующим веб-приложениям или сервисам. Nginx также может использоваться для обслуживания статических файлов, балансировки нагрузки и других задач.

4. Gunicorn 20.1.0
WSGI (Web Server Gateway Interface) сервер для Python веб-приложений. Gunicorn используется для запуска и управления веб-приложениями Django, обеспечивая их стабильную работу и масштабируемость.

5. Docker 
Платформа для разработки, доставки и запуска приложений в контейнерах. Docker обеспечивает унифицированный способ упаковки приложений и их зависимостей, что делает процесс развертывания и масштабирования приложений проще и более надежным.

6. GitHub Actions
Сервис автоматизации задач на основе событий, предоставляемый GitHub. GitHub Actions позволяет создавать и настраивать рабочие процессы для вашего репозитория на GitHub, такие как тестирование, сборка, развертывание и многие другие операции, которые могут быть выполнены автоматически при определенных событиях в репозитории.

## Локальный запуск проекта
1. Клониронить репезиторий 
```
git clone git@github.com:zmlkf/kittygram_final.git
```

2. Создать файл с переменными окружения
```
touch .env
```
```
Переменные:
POSTGRES_DB=<БазаДанных>
POSTGRES_USER=<имя пользователя>
POSTGRES_PASSWORD=<пароль>
DB_NAME=<имя БазыДанных>
DB_HOST=db
DB_PORT=5432
SECRET_KEY=<ключ Django>
```

4. Запустить Dockercompose
```
docker compose -f docker-compose.yml pull
docker compose -f docker-compose.yml down
docker compose -f docker-compose.yml up -d
```

5. Применить миграции, собрать и копировать статику
```
sudo docker compose -f docker-compose.yml exec backend python manage.py migrate
sudo docker compose -f docker-compose.yml exec backend python manage.py collectstatic
sudo docker compose -f docker-compose.yml exec backend cp -r /app/collected_static/. /backend_static/static/ 
```

## Автор
Roman Zemliakov [GitHub](https://github.com/zmlkf)

#  Как работать с репозиторием финального задания

## Что нужно сделать

Настроить запуск проекта Kittygram в контейнерах и CI/CD с помощью GitHub Actions

## Как проверить работу с помощью автотестов

В корне репозитория создайте файл tests.yml со следующим содержимым:
```yaml
repo_owner: ваш_логин_на_гитхабе
kittygram_domain: полная ссылка (https://доменное_имя) на ваш проект Kittygram
taski_domain: полная ссылка (https://доменное_имя) на ваш проект Taski
dockerhub_username: ваш_логин_на_докерхабе
```

Скопируйте содержимое файла `.github/workflows/main.yml` в файл `kittygram_workflow.yml` в корневой директории проекта.

Для локального запуска тестов создайте виртуальное окружение, установите в него зависимости из backend/requirements.txt и запустите в корневой директории проекта `pytest`.

## Чек-лист для проверки перед отправкой задания

- Проект Taski доступен по доменному имени, указанному в `tests.yml`.
- Проект Kittygram доступен по доменному имени, указанному в `tests.yml`.
- Пуш в ветку main запускает тестирование и деплой Kittygram, а после успешного деплоя вам приходит сообщение в телеграм.
- В корне проекта есть файл `kittygram_workflow.yml`.
